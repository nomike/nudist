---
- name: "packages: apt update"
  apt:
    cache_valid_time: 86400
    update_cache: true

- name: "packages: install apt packages"
  apt:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - ansible
      - ansible-lint
      - build-essential
      - curl
      - daemonize
      - dconf-editor
      - diffstat
      - diffutils
      - dos2unix
      - dotnet-sdk-6.0
      - dotnet-sdk-7.0
      - feh
      - finger
      - fonts-powerline
      - gdb
      - gddrescue
      - gimp
      - git
      - gitk
      - gnome-browser-connector
      - gnome-shell-extension-manager
      - gnome-tweaks
      - gparted
      - graphicsmagick-imagemagick-compat
      - guake
      - htop
      - inkscape
      - ipython3
      - jq
      - jupp
      - keepass2
      - landscape-common
      - libfuse2
      - mc
      - mono-complete
      - ncdu
      - net-tools
      - nmap
      - npm
      - openscad
      - openshot-qt
      - openssh-server
      - p7zip-full
      - pipx
      - plocate
      - pwgen
      - python3-autopep8
      - python3-pip
      - python3-venv
      - sl
      - socat
      - solaar
      - syncthing
      - tcpdump
      - thefuck
      - tig
      - unzip
      - vlc
      - wget
      - wireshark
      - whois
      - xclip
      - yamllint
      - yt-dlp
      - zsh
      - zsh-antigen

- name: "packages: install git-removed-branches"
  npm:
    name: git-removed-branches
    state: present
    global: yes

- name: "packages: install yarn"
  npm:
    name: yarn
    state: present
    global: yes

- name: "Install snap packages"
  community.general.snap:
    name:
      - chromium
      - docker
      - fast
      - youtube-music-desktop-app
      - ferdium
      - signal-desktop
      - teams-for-linux
      - telegram-desktop
    state: present

- name: "Install classic snap packages"
  community.general.snap:
    name:
      - code-insiders
    state: present
    classic: true

